<form id="contact-form" action="https://formspree.io/f/xblzzolg" method="POST">
  <!-- 送信後にthanks.htmlへ移動 -->
  <input type="hidden" name="_redirect" value="https://<あなたのGitHubユーザー名>.github.io/aonami-citybus/thanks.html">

  <label>お名前（必須）</label>
  <input type="text" name="name" required>

  <label>メールアドレス（必須）</label>
  <input type="email" name="email" required>

  <label>電話番号</label>
  <input type="tel" name="phone">

  <label>お問い合わせ区分（必須）</label>
  <select name="category" required>
    <option value="">選択してください</option>
    <option value="忘れ物">忘れ物について</option>
    <option value="お問い合わせ">その他のお問い合わせ</option>
  </select>

  <label>車両番号（わかる場合のみ）</label>
  <input type="text" name="bus_number" placeholder="例）青波230か・851/0712など">

  <label>返信が必要ですか？（必須）</label>
  <div class="radio">
    <label><input type="radio" name="reply_needed" value="必要" required>必要</label>
    <label><input type="radio" name="reply_needed" value="不要">不要</label>
  </div>

  <label>お問い合わせ内容（必須）</label>
  <textarea name="message" rows="6" required></textarea>

  <button type="submit">送信する</button>
</form>

<script>
  // あなたのFormspreeエンドポイント
  const FORMSPREE_ENDPOINT = "https://formspree.io/f/xblzzolg";
  const form = document.getElementById("contact-form");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const data = new FormData(form);

    try {
      const res = await fetch(FORMSPREE_ENDPOINT, {
        method: "POST",
        body: data,
        headers: { "Accept": "application/json" }
      });

      if (res.ok) {
        // 成功 → サイトと同じデザインのthanksページへ
        window.location.href = "thanks.html";
      } else {
        alert("送信に失敗しました。時間をおいて再度お試しください。");
      }
    } catch (err) {
      alert("通信エラーが発生しました。ネットワークをご確認ください。");
    }
  });
</script>
